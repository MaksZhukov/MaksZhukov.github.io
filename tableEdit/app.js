!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=6)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.EventEmitter=class{constructor(t={}){this.events=t}on(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)}emit(t,e){this.events[t]&&this.events[t].forEach(t=>t(e))}},e.createElement=function(t,e=null,i){let n=document.createElement(t);n.innerText=e;for(let t in i)n.setAttribute(t,i[t]);return n},e.save=function(t){localStorage.setItem("data",JSON.stringify(t))},e.load=function(){return JSON.parse(localStorage.getItem("data"))}},,function(t,e,i){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e){this.view=t,this.model=e,this.view=t,this.model=e,t.on("clickButton",this.handlerClickButton.bind(this)),t.on("click",this.handlerClickInput.bind(this)),t.on("blur",this.handlerBlurInput.bind(this)),t.on("keyup",this.handlerKeyUpInput.bind(this)),e.store.length&&t.createTable(e.row,e.col,e.store)}handlerClickButton({row:t,col:e}){const i=this.model.createData(t,e);this.view.createTable(i.row,i.col,i.store)}handlerClickInput({id:t}){const e=this.model.updateClickInput(t);this.view.updateClickInput(e)}handlerBlurInput({id:t}){const e=this.model.updateBlurInput(t);this.view.updateBlurInput(e)}handlerKeyUpInput({id:t,value:e}){const i=this.model.updateKeyUpInput({id:t,value:e});this.view.updateKeyUpInput(i)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);e.default=class extends n.EventEmitter{constructor(){super(),this.app=document.getElementById("app"),this.button=n.createElement("button","Создать таблицу"),this.button.addEventListener("click",this.handlerClickButton.bind(this)),this.inputRow=n.createElement("input",null,{placeholder:"Количество строк"}),this.inputCol=n.createElement("input",null,{placeholder:"Количество столбцов"}),this.app.appendChild(this.button),this.app.appendChild(this.inputRow),this.app.appendChild(this.inputCol)}createTable(t,e,i){this.inputRow.value=t.toString(),this.inputCol.value=e.toString(),this.table&&this.table.remove(),this.table=n.createElement("table");const s=n.createElement("tbody");let l=0;this.table.appendChild(s);for(let r=0;r<t;r++){let t=n.createElement("tr");for(let s=0;s<e;s++){let e=n.createElement("td"),s=n.createElement("input");s.dataset.id=i.filter(t=>t.id===l)[0].id.toString(),s.value=i.filter(t=>t.id===l)[0].value,s.classList.add("disabled"),s.readOnly=!0,s.addEventListener("click",this.handlerClickInput.bind(this)),s.addEventListener("blur",this.handlerBlurInput.bind(this)),s.addEventListener("keyup",this.handlerKeyUpInput.bind(this)),e.appendChild(s),t.appendChild(e),l++}s.appendChild(t)}this.table=this.table,this.app.appendChild(this.table)}handlerClickButton(){this.emit("clickButton",{row:+this.inputRow.value,col:+this.inputCol.value})}handlerClickInput({target:t}){this.emit("click",{id:+t.dataset.id})}handlerBlurInput({target:t}){this.emit("blur",{id:+t.dataset.id})}handlerKeyUpInput({target:t}){this.emit("keyup",{id:+t.dataset.id,value:+t.value})}updateClickInput({id:t,disabled:e}){const i=this.getInputById(t);!1===e&&(i.classList.replace("disabled","enabled"),i.readOnly=e)}updateBlurInput({id:t,disabled:e}){const i=this.getInputById(t);!0===e&&(i.classList.replace("enabled","disabled"),i.readOnly=e)}updateKeyUpInput({id:t,value:e}){this.getInputById(t).value=e}getInputById(t){return document.querySelector(`[data-id="${t}"]`)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);e.default=class extends n.EventEmitter{constructor({store:t,count:e,row:i,col:n}){super(),this.store=t||[],this.count=e||0,this.row=i||0,this.col=n||0}createData(t,e){this.store=[],this.row=t,this.col=e,this.count=t*e;for(let t=0;t<this.count;t++)this.store.push({id:t,value:"",disabled:!0});return this.emit("change",{store:this.store,count:this.count,row:this.row,col:this.col}),{row:this.row,col:this.col,store:this.store}}getInput(t){return this.store.filter(e=>e.id==t)[0]}updateClickInput(t){const e=this.getInput(t);return e.disabled=!e.disabled,this.emit("change",{store:this.store,count:this.count,row:this.row,col:this.col}),e}updateBlurInput(t){const e=this.getInput(t);return e.disabled=!e.disabled,this.emit("change",{store:this.store,count:this.count,row:this.row,col:this.col}),e}updateKeyUpInput({id:t,value:e}){const i=this.getInput(t);return i.value=e,this.emit("change",{store:this.store,count:this.count,row:this.row,col:this.col}),i}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(5),s=i(4),l=i(3),r=i(0),o=r.load(),u=new n.default(o||{});u.on("change",t=>r.save(t));const a=new s.default;new l.default(a,u);i(2)}]);